---
layout: post
categories: Java
title: "IDEA单个文件打包"
tags: [Java, 日常积累]
date-string: 2019-04-18
---
# IDEA 将项目中的单个文件进行打包并添加依赖
Java对类进行打包使其变成可执行的jar包是完成一个项目最基本的操作。
平时需要打jar包的时候，更多的都是对整个项目打包，并且利用maven的插件可以自动添加依赖。
但有些时候需要对一个包含main方法的类进行打包，并且添加相关的依赖。之前查了很久该怎么操作，但网上大部分都是对整个项目进行打包的教程，几乎没有对单个类打包的教程。摸索了大半天偶然发现了maven项目对单个类打包的操作。

1. 点击 File->Project Structure,选择Artifacts
![](/images/15555583396653/15555625554312.jpg)

2. 点击“+”按钮，选择jar，选择empty
![](/images/15555583396653/15555626402467.jpg)
![](/images/15555583396653/15555626534187.jpg)
3. 对将要打包的jar包进行命名。由于打包的类有package，所以在jar包中也要添加响应的文件层次。建立好文件夹层次之后，再添加类文件的时候，一定要添加编译过后的.class文件而不是.java文件。
![](/images/15555583396653/15555629132034.jpg)
4. 最重要的一步，在添加好.class文件之后，还没有把用到的相关依赖添加进去。这时候要选中界面右侧的项目，会出现很多依赖包。右键点击你需要的依赖，选择"Extract Into Output Root".
![](/images/15555583396653/15555630562662.jpg)
![](/images/15555583396653/15555630392125.jpg)
5. 接下来，点击apply之后，提示需要选择manifest.mf文件，此时可以自行选择将要创建MANIFEST.MF文件的文件夹，会自动创建出一个META-INF文件夹和MANIFEST.MF文件。打开MF文件，在其中添加主类名称：`Main-class:com.database.flight.waterMark`。（也可以在创建文件的时候，在Main Class选项里选择主类。
![](/images/15555583396653/15555633391187.jpg)
![](/images/15555583396653/15555633607826.jpg)
![](/images/15555583396653/15555633054907.jpg)

6. 最后，点击apply、ok之后，点击IDEA的Build选项，选中你要build的artifacts，build就ok了。



